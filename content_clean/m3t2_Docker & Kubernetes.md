Docker & Kubernetes

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è ‚Äî –æ—Å–Ω–æ–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –ü–û. Docker —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞ Kubernetes —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é –∏ —Å–µ—Ç—å—é –≤ production.

üîë Docker: –æ—Ç –∫–æ–¥–∞ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É

Dockerfile ‚Üí –æ–±—Ä–∞–∑ ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- Dockerfile ‚Äî —Ä–µ—Ü–µ–ø—Ç —Å–±–æ—Ä–∫–∏:  
  
- –û–±—Ä–∞–∑ ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ª–æ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ docker build
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞: docker run my-app

–ö–∞–∂–¥—ã–π —Å–ª–æ–π –≤ –æ–±—Ä–∞–∑–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è ‚Üí –±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞.

üîÑ Docker Compose ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

–§–∞–π–ª docker-compose.yml –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

–ó–∞–ø—É—Å–∫: docker compose up -d  
‚Üí –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

‚ò∏Ô∏è Kubernetes ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤ production

–û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:

- Pod ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞: –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ—Å—Ç–µ
- Service ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π IP/DNS –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Pod‚Äô–∞–º
- Deployment ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏, —Ä–µ–ø–ª–∏–∫–∞–º–∏, –æ—Ç–∫–∞—Ç–∞–º–∏
- Namespace ‚Äî –∏–∑–æ–ª—è—Ü–∏—è —Å—Ä–µ–¥ (dev/staging/prod)

–ü—Ä–∏–º–µ—Ä Deployment:

üì¶ Helm ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è Kubernetes

- Helm Chart ‚Äî —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∫–∞–∫ .deb –¥–ª—è Kubernetes)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:

- –£–ø—Ä–æ—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –æ—Ç–∫–∞—Ç, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏
‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

- ‚ùå ¬´–Ø –∑–∞–ø—É—Å–∫–∞—é –≤—Å—ë –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ¬ª  
    ‚Üí –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø ¬´–æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å ‚Äî –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä¬ª. –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å.
- ‚ùå ¬´Kubernetes ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ Docker –≤ –æ–±–ª–∞–∫–µ¬ª  
    ‚Üí Kubernetes —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏: *self-healing, service discovery, autoscaling* ‚Äî Docker —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.
- ‚ùå ¬´Helm ‚Äî –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω¬ª  
    ‚Üí –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ YAML-–º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤. Helm –Ω—É–∂–µ–Ω –ø—Ä–∏ —Å–ª–æ–∂–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏.

üí° –ì–ª–∞–≤–Ω–æ–µ

Docker ‚Äî –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏, Kubernetes ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
–í–º–µ—Å—Ç–µ –æ–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.

–°–Ω–æ—Å–∫–∏

[^pod]: Pod ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ –Ω–∞ –æ–¥–Ω–æ–º —É–∑–ª–µ. –†–µ–¥–∫–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é ‚Äî –æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ Deployment.
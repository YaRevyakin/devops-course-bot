Kubernetes Administration

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ Kubernetes ‚Äî —ç—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–º, —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –ø—Ä–æ–±–ª–µ–º. DevOps-–∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —É–≤–µ—Ä–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å kubectl, –ø–æ–Ω–∏–º–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —É–º–µ—Ç—å –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Å–±–æ–∏.

üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

Control Plane (–º–∞—Å—Ç–µ—Ä-–Ω–æ–¥—ã)
- etcd ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è  
- kube-apiserver ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
- kube-scheduler ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç Pod‚Äô—ã –ø–æ –Ω–æ–¥–∞–º  
- kube-controller-manager ‚Äî —Å–ª–µ–¥–∏—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, replica count)  
- cloud-controller-manager ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º

Worker Nodes (—Ä–∞–±–æ—á–∏–µ –Ω–æ–¥—ã)
- kubelet ‚Äî –∞–≥–µ–Ω—Ç, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π Pod‚Äô–∞–º–∏ –Ω–∞ –Ω–æ–¥–µ  
- kube-proxy ‚Äî —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è Service‚Äô–æ–≤  
- Container Runtime ‚Äî Docker, containerd, CRI-O

–í managed-–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö (EKS, GKE, Yandex Managed K8s) control plane —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º.
üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã kubectl

–ö–ª—é—á–µ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
- Deployment ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–ª–∏–∫–∞–º–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏  
- Service ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π IP/DNS –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Pod‚Äô–∞–º  
- ConfigMap ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ —Å–µ–∫—Ä–µ—Ç—ã!)  
- Secret ‚Äî —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (base64-encoded)

–ü—Ä–∏–º–µ—Ä Secret:

üì¶ Helm ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

- Chart ‚Äî –ø–∞–∫–µ—Ç —Å —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º–∏
- –£–ø—Ä–æ—â–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: Prometheus, GitLab, PostgreSQL

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

–ò—Å–ø–æ–ª—å–∑—É–π Helm, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ (–æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤–µ—Ä—Å–∏–∏).

üîç Troubleshooting

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∫–æ–º–∞–Ω–¥—ã:

- Pod –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏

- –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–ù–æ–¥–∞ –Ω–µ –≥–æ—Ç–æ–≤–∞

–ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–ª–∞–≥–∏:

- *-n <namespace>* ‚Äî —É–∫–∞–∑–∞—Ç—å namespace
- *--watch* ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- *-o wide* ‚Äî –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

- ‚ùå ¬´–ò—Å–ø–æ–ª—å–∑—É—é *latest* —Ç–µ–≥ –æ–±—Ä–∞–∑–∞¬ª  
    ‚Üí –ù–∞—Ä—É—à–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é.
- ‚ùå ¬´–ù–µ –∑–∞–¥–∞—é *resources* (limits/requests)`¬ª  
    ‚Üí Pod –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã—Ç–µ—Å–Ω–µ–Ω –∏–ª–∏ —É–±–∏—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.
- ‚ùå ¬´–•—Ä–∞–Ω—é —Å–µ–∫—Ä–µ—Ç—ã –≤ ConfigMap¬ª  
    ‚Üí ConfigMap –Ω–µ —à–∏—Ñ—Ä—É–µ—Ç—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π *Secret* –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (Vault).

üí° –ì–ª–∞–≤–Ω–æ–µ

Kubernetes ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤¬ª.  
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –¥—É–º–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º: ¬´–ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å¬ª, –∞ –Ω–µ ¬´–ß—Ç–æ –¥–µ–ª–∞—Ç—å¬ª.  
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Äî —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, –∞ –Ω–µ —Ä—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.
–ü—Ä–æ–µ–∫—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å IaC, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ CI/CD –≤ –µ–¥–∏–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±–ª–∞—á–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
üîß –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü–æ–¥–Ω—è—Ç–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ Terraform
- –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (Yandex Cloud, AWS –∏–ª–∏ GCP)  
- –°–æ–∑–¥–∞–π –í–ú —Å –ø—É–±–ª–∏—á–Ω—ã–º IP –∏ SSH-–¥–æ—Å—Ç—É–ø–æ–º  
- –ü—Ä–∏–º–µ—Ä (Yandex Cloud):

  
  - –°–æ—Ö—Ä–∞–Ω–∏ –≤—ã–≤–æ–¥ IP –≤ output.tf:

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ Ansible

- –°–æ–∑–¥–∞–π inventory-—Ñ–∞–π–ª –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (–∏–ª–∏ –≤—Ä—É—á–Ω—É—é —Å IP –∏–∑ Terraform)
- –ù–∞–ø–∏—à–∏ playbook:

- –ó–∞–ø—É—Å—Ç–∏: ansible-playbook -i inventory.yml setup.yml
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

- –í GitLab/GitHub —Å–æ–∑–¥–∞–π pipeline:
    
    - Build: —Å–æ–±–µ—Ä–∏ Docker-–æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    - Deploy: –ø–æ–¥–Ω–∏–º–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Terraform), –Ω–∞—Å—Ç—Ä–æ–π (Ansible), –∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    
- –ü—Ä–∏–º–µ—Ä —à–∞–≥–∞ –≤ .gitlab-ci.yml:

–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –∏—Å–ø–æ–ª—å–∑—É–π TF_VAR_..., VAULT, CI/CD variables.
üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
> - Terraform ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- Ansible ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –û–° –∏ –ü–û
- CI/CD ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
> –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ production.
‚ö†Ô∏è –°–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π terraform output -json –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Ansible
- –•—Ä–∞–Ω–∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ CI/CD variables, –∞ –Ω–µ –≤ –∫–æ–¥–µ
- –î–æ–±–∞–≤—å terraform destroy –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π job (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- –¢–µ—Å—Ç–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ terraform apply -target=...

–°–Ω–æ—Å–∫–∏

[^dynamic-inventory]: –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è ‚Äî —Å–æ–∑–¥–∞–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π inventory –¥–ª—è Ansible –Ω–∞ –æ—Å–Ω–æ–≤–µ terraform output.
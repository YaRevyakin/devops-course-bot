---
tags:
  - mod7
---
# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–µ—Ä–µ–¥–∏

–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–µ—Ä–µ–¥–∏ ‚Äî –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**, **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏** –∏ **—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏** —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. DevOps-–∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
## üîë –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: Redis –∏ Memcached

### –ó–∞—á–µ–º –Ω—É–∂–Ω–æ?
- –£–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö  
- –£—Å–∫–æ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
- –°–Ω–∏–∂–∞–µ—Ç latency –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Redis
- **In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:  
  - –ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ  
  - –°–ø–∏—Å–∫–æ–≤, —Ö—ç—à–µ–π, –º–Ω–æ–∂–µ—Å—Ç–≤  
  - –ü—É–±–ª–∏–∫–∞—Ü–∏–∏/–ø–æ–¥–ø–∏—Å–∫–∏  
  - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (RDB, AOF)  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:  
  - –ö—ç—à–∞  
  - –°–µ—Å—Å–∏–π  
  - –û—á–µ—Ä–µ–¥–µ–π (—á–µ—Ä–µ–∑ —Å–ø–∏—Å–∫–∏)  
  - Rate limiting

–ü—Ä–∏–º–µ—Ä:
```bash
SET user:123 "{name: 'Alice', role: 'admin'}" EX 3600
GET user:123
```
### Memcached

- –ü—Ä–æ—Å—Ç–æ–µ **–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ** —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –¢–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏, –±–µ–∑ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

> **Redis** ‚Äî –≥–∏–±–∫–∏–π, –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π.  
> **Memcached** ‚Äî –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π.

## üì• –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π: RabbitMQ

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã?

- –†–∞–∑–¥–µ–ª—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É**
- –ü–æ–≤—ã—à–∞—é—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (—Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RabbitMQ?

- **Producer** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ **exchange**
- Exchange –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ **–æ—á–µ—Ä–µ–¥—å** –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º (routing key)
- **Consumer** –∑–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏

–ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è: ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª —Ñ–æ—Ç–æ ‚Üí —Å–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å ‚Üí –≤–æ—Ä–∫–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

- **Durable queue** ‚Äî –æ—á–µ—Ä–µ–¥—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- **Acknowledgements** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–µ—Å–ª–∏ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–µ—Ä–Ω—ë—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å)
- **Dead Letter Exchange (DLX)** ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ ¬´–æ—Ç—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö¬ª —Å–æ–æ–±—â–µ–Ω–∏–π

## ‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

- ‚ùå ¬´–ò—Å–ø–æ–ª—å–∑—É—é Redis –±–µ–∑ TTL¬ª  
    ‚Üí –ü–∞–º—è—Ç—å –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è ‚Üí eviction –∏–ª–∏ OOM.
- ‚ùå ¬´–•—Ä–∞–Ω—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ –∫—ç—à–µ¬ª  
    ‚Üí –ö—ç—à ‚Äî volatile. –í—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (–ë–î).
- ‚ùå ¬´–ù–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é —Å–æ–æ–±—â–µ–Ω–∏—è –≤ RabbitMQ¬ª  
    ‚Üí –ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –≤–æ—Ä–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è.
- ‚ùå ¬´–ó–∞–ø—É—Å–∫–∞—é RabbitMQ –±–µ–∑ persistent queues¬ª  
    ‚Üí –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å—á–µ–∑–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ.

## üí° –ì–ª–∞–≤–Ω–æ–µ

> **–ö—ç—à** ‚Äî –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏.  
> **–û—á–µ—Ä–µ–¥–∏** ‚Äî –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏.  
> –û–±–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ **—Ä–∞–∑–≥—Ä—É–∂–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã** –∏ –¥–µ–ª–∞—é—Ç —Å–∏—Å—Ç–µ–º—É —É—Å—Ç–æ–π—á–∏–≤–æ–π –∫ –≤—Å–ø–ª–µ—Å–∫–∞–º –Ω–∞–≥—Ä—É–∑–∫–∏.

---
### –°–Ω–æ—Å–∫–∏

[^ttl]: TTL (Time To Live) ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –∏–∑ –∫—ç—à–∞ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.
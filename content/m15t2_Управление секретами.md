---
tags: [mod15]
---
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏

–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞—á–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä–æ–ª–∏, API-–∫–ª—é—á–∏, TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã) –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –¶–µ–ª—å ‚Äî –∏—Å–∫–ª—é—á–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ, –æ–±—Ä–∞–∑–∞—Ö –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥–∞—Ö, –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∞—É–¥–∏—Ç, —Ä–æ—Ç–∞—Ü–∏—é –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏.
## üîë –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Kubernetes Secrets**  
  –ë–∞–∑–æ–≤—ã–π —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ etcd. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è! –¢—Ä–µ–±—É–µ—Ç—Å—è `EncryptionConfiguration`.
- **HashiCorp Vault**  
  –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏, –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞, –∞—Ä–µ–Ω–¥–∞ –∫–ª—é—á–µ–π, –∞—É–¥–∏—Ç–æ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –±—ç–∫–µ–Ω–¥–æ–≤ (KV, AWS, DB –∏ –¥—Ä.).
- **External Secrets Operator (ESO)**  
  –ú–æ—Å—Ç –º–µ–∂–¥—É –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Vault, AWS Secrets Manager, GCP Secret Manager) –∏ Kubernetes. –°–æ–∑–¥–∞—ë—Ç `Secret` –Ω–∞ –æ—Å–Ω–æ–≤–µ `ExternalSecret` CRD.
- **RBAC + Network Policies**  
  –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ–∫—Ä–µ—Ç–∞–º —Ç–æ–ª—å–∫–æ —Ç–µ–º –ø–æ–¥–∞–º/—Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–º —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ.
## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ?

1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç —á–µ—Ä–µ–∑ `ExternalSecret` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `db-password`).
2. ESO –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Vault (–ø–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É –∫–∞–Ω–∞–ª—É), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∏.
3. Vault –≤—ã–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí ESO —Å–æ–∑–¥–∞—ë—Ç `Secret` –≤ –Ω—É–∂–Ω–æ–º namespace.
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –∫–∞–∫ volume –∏–ª–∏ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
5. –ü—Ä–∏ —Ä–æ—Ç–∞—Ü–∏–∏ –≤ Vault ‚Äî ESO –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `Secret` –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.

‚Üí –ë–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî —Å–µ–∫—Ä–µ—Ç—ã –≤ Git = —É—Ç–µ—á–∫–∞. –° Vault + ESO ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ, –∞—É–¥–∏—Ä—É–µ–º–æ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ.
## ‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

- ‚ùå ¬´–Ø –ø–æ–ª–æ–∂–∏–ª —Ç–æ–∫–µ–Ω –≤ ConfigMap ‚Äî —ç—Ç–æ –∂–µ –Ω–µ Secret¬ª  
  ‚Üí ConfigMap –Ω–µ —à–∏—Ñ—Ä—É–µ—Ç—Å—è. –í—Å—ë —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ ‚Äî —Ç–æ–ª—å–∫–æ –≤ Secret –∏–ª–∏ Vault.
- ‚ùå ¬´–ù–µ –≤–∫–ª—é—á–∏–ª —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ etcd ‚Äî –≤—Å–µ Secrets —á–∏—Ç–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ¬ª  
  ‚Üí –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π `EncryptionConfiguration` –≤ kube-apiserver.
- ‚ùå ¬´–î–∞–ª –≤—Å–µ–º –¥–æ—Å—Ç—É–ø –∫ Vault root token¬ª  
  ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π AppRole, Kubernetes Auth, short-lived tokens.
## üí° –ì–ª–∞–≤–Ω–æ–µ

> –°–µ–∫—Ä–µ—Ç—ã ‚Äî –Ω–µ –¥–∞–Ω–Ω—ã–µ, –∞ —Ä–∏—Å–∫–∏.  
> –•–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –≤ –∫–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Vault), –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É (ESO) –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø.

## üìå –°–Ω–æ—Å–∫–∏

- `ExternalSecret` ‚Äî CRD –∏–∑ External Secrets Operator.  
- Vault Kubernetes Auth ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∞–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Vault —á–µ—Ä–µ–∑ ServiceAccount.  
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ etcd: https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/
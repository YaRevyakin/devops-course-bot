---
tags:
  - devops/course
  - mod15
---
## [[m15t1_GitOps с ArgoCD]]
- Объясняет **суть GitOps**, а не только инструмент
- Указывает **конкретные процессы** (sync, health-checks, RBAC)
- Подчёркивает **выгоды**: аудит, откат, воспроизводимость
- Соответствует уровню твоего курса — технически точный, но без лишней теории
## [[m15t2_Управление секретами]]
Безопасное управление чувствительными данными (пароли, токены, TLS-ключи) в инфраструктуре и приложениях. Рассматриваются три уровня:  
- **Kubernetes Secrets** — базовое хранение (в etcd, нешифрованное по умолчанию),  
- **HashiCorp Vault** — централизованное динамическое управление секретами с политиками доступа, аренда ключей и аудитом,  
- **External Secrets Operator (ESO)** — связка между Vault/AWS Secrets Manager и Kubernetes через CRD.  
- Также: шифрование etcd, best practices (никогда не в коде/образах), ротация, least privilege access.
## [[m15t3_Service Mesh (Istio & Linkerd)]]
Service Mesh — слой инфраструктуры для управления взаимодействием микросервисов без изменения кода приложений. 
Istio и Linkerd внедряют sidecar-прокси (Envoy или Linkerd2-proxy) рядом с каждым подом, обеспечивая:  
- mTLS между сервисами,  
- fine-grained traffic control (canary, blue/green),  
- retries, timeouts, circuit breaking,  
- telemetry (метрики, логи, трейсы) через Prometheus, Grafana, Jaeger.  
Разбирается архитектура control/data plane, установка, настройка политик и когда Service Mesh оправдан (масштаб vs накладные расходы).
## [[m15t4_Optimization облачных расходов]]
Оптимизация затрат в облаке — системный подход к снижению расходов без потери надёжности. Охватывает:  
- выбор типов инстансов **(on-demand, reserved, spot)**,  
- **autoscaling (HPA, VPA, cluster autoscaler)**,  
- **права-sizing** ресурсов (CPU/memory requests/limits),  
- мониторинг через **Cloud Provider Cost Tools (AWS Cost Explorer, GCP Billing Reports) и open-source решения (Kubecost, OpenCost)**,  
- выявление "зомби"-ресурсов (неиспользуемые тома, IP, старые образы).  
Цель — предсказуемый бюджет и эффективное использование ресурсов.
## [[m15t5_Локальная разработка в Kubernetes]]
- **Skaffold** — автоматическая сборка, пуш образов и деплой при изменении кода,  
- **Tilt** — интерактивный UI, live reload, зависимые сервисы, кастомные шаги,  
- **DevSpace** — hot-reload без пересборки контейнера, remote debugging, профили окружений.  
Все инструменты позволяют разрабатывать прямо против локального (minikube, kind) или удалённого кластера, синхронизируя код в реальном времени и избегая полного цикла CI/CD на каждой итерации.
## [[m15t6_Policy as Code]]
Policy as Code — автоматизация проверки безопасности, соответствия и лучших практик через код. Используются:  
- **Open Policy Agent (OPA)** и **Gatekeeper** для Kubernetes (проверка манифестов на соответствие политикам: запрет latest-тегов, обязательные лимиты, запрет привилегированных подов),  
- **Checkov** — сканирование IaC (Terraform, CloudFormation) на уязвимости,  
- **Trivy** — анализ образов и SBOM на CVE.  
Политики версионируются в Git, тестируются как код и интегрируются в CI/CD и admission control.
## [[m15t7_Документация инфраструктуры]]
Живая, актуальная документация как часть **DevOps-культуры**. Включает:  
- описание архитектуры (**C4-модель** или диаграммы через Mermaid),  
- спецификации **API (OpenAPI/Swagger)**,  
- **runbooks** для инцидентов,  
- внутренние **Wiki (Docusaurus, Wiki.js, Notion)** с версионированием.  
Документация хранится рядом с кодом (в том же репозитории), обновляется через PR и автоматически публикуется через CI/CD. Цель — чтобы любой инженер мог понять систему за 15 минут.
## [[p15_Дополнительный практикум]]
Комплексный мини-проект, объединяющий инструменты из модуля 15:  
- развернуть приложение в Kubernetes с управлением через **ArgoCD (GitOps)**,  
- подключить **Vault или External Secrets Operator** для хранения секретов,  
- наложить **политики через OPA/Gatekeeper** (например, запрет root-контейнеров),  
- добавить **мониторинг расходов** (Kubecost) и **документацию** (Mermaid + Markdown в репозитории).  
Цель — собрать безопасную, наблюдаемую и воспроизводимую инфраструктуру уровня production.
## [[km15_Ключевые моменты]]
Краткий обзор всех тем модуля: когда и зачем применять, какие инструменты выбрать, типичные ошибки.
## [[testm15_Тестирование]]
Проверка понимания: вопросы по **GitOps**, секретам, Service Mesh, cost optimization и документации. Практические задания на настройку **ArgoCD или OPA**.